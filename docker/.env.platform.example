# -----------------------------------------------------------------------------
# Platform stack environment template
#   This file feeds both docker/.env and the repo root .env so the base
#   platform stack and the platform overlay share the same configuration.
#   Update values here, then run scripts/platform-stack.sh (or
#   scripts/platform-sync-env.sh) to propagate them.
# -----------------------------------------------------------------------------

# --- Core database credentials ------------------------------------------------
POSTGRES_PASSWORD=your-super-secret-and-long-postgres-password
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=postgres
VAULT_ENC_KEY=your-encryption-key-32-chars-min
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long
JWT_EXPIRY=3600

# --- API keys --------------------------------------------------------
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAKfQ.pcNKqKb9zQSeAAs0BsWJs941CPoIGWiJVfKrWXXZzLk
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q

# --- services --------------------------------------------------------
PLATFORM_URL=http://kong:8000
PLATFORM_PUBLIC_URL=http://localhost:8000

# --- Platform admin defaults --------------------------------------------------
PLATFORM_ADMIN_EMAIL=admin@example.com
PLATFORM_ADMIN_PASSWORD=password
PLATFORM_DEBUG=true

PLATFORM_DEFAULT_ORGANIZATION="Default Organization"
PLATFORM_DEFAULT_ORGANIZATION_SLUG=default-organization
PLATFORM_DEFAULT_PROJECT="Default Project"
PLATFORM_DEFAULT_PROJECT_REF=default
PLATFORM_DEFAULT_REGION=local
PLATFORM_DEFAULT_CLOUD_PROVIDER=AWS
# Optional overrides
# PLATFORM_DEFAULT_PLAN=free

# --- Platform runtime orchestration ------------------------------------------
PLATFORM_PROJECT_PORT_BASE=23000
PLATFORM_PROJECT_PORT_STEP=20
PLATFORM_ORCHESTRATOR_URL=http://runtime-agent:8085
PLATFORM_ORCHESTRATOR_TOKEN=platform-runtime-agent
RUNTIME_AGENT_PLATFORM_HOST=host.docker.internal

# --- Analytics / Logflare -----------------------------------------------------
LOGFLARE_PUBLIC_ACCESS_TOKEN=your-super-secret-and-long-logflare-key-public
LOGFLARE_PRIVATE_ACCESS_TOKEN=your-super-secret-and-long-logflare-key-private
SECRET_KEY_BASE=UpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq
POOLER_TENANT_ID=default
POOLER_PROXY_PORT_TRANSACTION=6543
POOLER_DEFAULT_POOL_SIZE=15
POOLER_MAX_CLIENT_CONN=400
POOLER_DB_POOL_SIZE=10

# --- Kong / Studio ------------------------------------------------------------
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443
DASHBOARD_USERNAME=paybill
DASHBOARD_PASSWORD=your-dashboard-password
PLATFORM_DASHBOARD_BASIC_AUTH_ENABLED=false
DASHBOARD_BASIC_AUTH_ENABLED=${PLATFORM_DASHBOARD_BASIC_AUTH_ENABLED}

# --- Stripe -------------------------------------------------------------------
NEXT_PUBLIC_STRIPE_PUBLIC_KEY=pk_test_
STRIPE_SECRET_KEY=sk_test_

# --- Misc ---------------------------------------------------------------------
DOCKER_SOCKET_LOCATION=/var/run/docker.sock
